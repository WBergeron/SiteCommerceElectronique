{% extends 'core/base.html.twig' %}
{% form_theme formCategories 'bootstrap_5_layout.html.twig' %}

{% block body %}
	{% include 'core/topbar.html.twig' %}
	{% include 'core/navbar.html.twig' %}

	<div class="container-fluid">
		<h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4">
			<span class="bg-secondary pr-3">Catégories</span>
		</h2>
		<div class="row px-xl-5 justify-content-center">
			<div class="col-lg-9 mb-5">
				<div
					class="bg-light p-30">
					<!--Le validate est pas bon... enquêter pourquoi-->
					{{ form_start(formCategories, {'attr': {'class': '.needs-validation-categorie', 'novalidate': 'novalidate'}}) }}
					<div class="row d-flex justify-content-center">
						<div class="col-lg-8 mx-auto">
							<ul class="items" style="list-style-type:none;" data-index=" {{ formCategories.categories|length > 0 ? formCategories.categories|last.vars.name + 1 : 0 }} " data-prototype=" {{ form_widget(formCategories.categories.vars.prototype)|e('html_attr') }} ">
								{% for categorie in formCategories.categories %}
									<li class="row-6">{{ form_row(categorie.categorie) }}</li>
								{% endfor %}
							</ul>
						</div>
					</div>
					<div class="d-flex justify-content-center">
						<div class="form-button">
							<button type="button" class="add_item_link btn btn-primary" data-collection-holder-class="items">Ajouter une Catégorie</button>
						</div>
						<div class="form-button">
							{{ form_row(formCategories.btnSave) }}
						</div>
					</div>
					{{ form_end(formCategories) }}
				</div>
			</div>
		</div>
	</div>
	{% include 'core/footer.html.twig' %}
{% endblock %}
